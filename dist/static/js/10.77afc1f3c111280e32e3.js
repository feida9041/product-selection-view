webpackJsonp([10],{557:function(e,t,n){var a=n(216)(n(616),n(655),null,null);e.exports=a.exports},563:function(e,t,n){"use strict";t.__esModule=!0;var a=n(219),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default(function(e,n){function a(i,s){try{var o=t[i](s),u=o.value}catch(e){return void n(e)}if(!o.done)return r.default.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}return a("next")})}}},564:function(e,t,n){e.exports=n(572)},565:function(e,t,n){"use strict";var a=n(564),r=n.n(a),i=n(563),s=n.n(i),o=n(568),u=n.n(o),l=n(569),c=n.n(l),d=n(217),p=n.n(d),f=n(566);p.a.defaults.baseURL=f.a.base_url();var h=function(){function e(){u()(this,e)}return c()(e,null,[{key:"login",value:function(){function e(e){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/login",t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"logout",value:function(){function e(){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/logout");case 2:return t=e.sent,localStorage.clear(),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getList",value:function(){function e(e,n){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(t,{params:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e,n){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(t,{params:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"saveData",value:function(){function e(e,n){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteData",value:function(){function e(e,n){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.delete(t,{params:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"upload",value:function(){function e(e,n){return t.apply(this,arguments)}var t=s()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({url:"/upload",method:"POST",data:t,onUploadProgress:function(e){e.lengthComputable&&n(e)},headers:{"Content-Type":"multipart/form-data"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.a=h},566:function(e,t,n){"use strict";var a={base_url:function(){return"https://tjshadmin.tradecubic.com/api/v1/admin/"},upload_url:function(){return"https://tjshadmin.tradecubic.com/uploads/"}};t.a=a},567:function(e,t,n){e.exports={default:n(570),__esModule:!0}},568:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},569:function(e,t,n){"use strict";t.__esModule=!0;var a=n(567),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,r.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()},570:function(e,t,n){n(571);var a=n(18).Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},571:function(e,t,n){var a=n(57);a(a.S+a.F*!n(40),"Object",{defineProperty:n(41).f})},572:function(e,t,n){(function(t){var a="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,r=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,i=r&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=n(220),r)a.regeneratorRuntime=i;else try{delete a.regeneratorRuntime}catch(e){a.regeneratorRuntime=void 0}}).call(t,n(65))},573:function(e,t,n){"use strict";var a=n(218),r={data:function(){return{uiPower:{delete:"",update:"",create:""}}},created:function(){this.setPower()},methods:{setPower:function(){var e=a.a.getItem("ui_power");this.uiPower.create=e.create,this.uiPower.update=e.update,this.uiPower.delete=e.delete},showUpdate:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.uiPower.update},showDelete:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.uiPower.delete},showCreate:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.uiPower.create}}};t.a=r},574:function(e,t,n){"use strict";var a=n(147),r=n.n(a),i=n(564),s=n.n(i),o=n(563),u=n.n(o),l=n(565),c={data:function(){return{tableRef:"multipleTable",listUrl:"",deleteUrl:"",curPage:1,pageSize:10,totalnum:0,multipleSelection:[],searchData:{},tableData:[],orderTable:{prop:"",order:""},loading:!1}},created:function(){this.getData()},computed:{data:function(){return this.tableData}},methods:{handleCurrentChange:function(e){this.curPage=e,this.getData()},handleSortChange:function(e){this.orderTable.prop=e.prop,this.orderTable.order=e.order,this.getData()},handleSizeChange:function(e){this.pageSize=e,1===this.curPage?this.getData():this.curPage=1},search:function(){this.getData()},clearSearch:function(){for(var e in this.searchData)this.searchData[e]=""},searchObj:function(){var e={};for(var t in this.searchData)e["search["+t+"]"]=this.searchData[t];return e},refresh:function(){this.pageSize=10,this.clearSearch(),this.$refs[this.tableRef].clearSort(),1===this.curPage?this.getData():this.curPage=1},handleSelectionChange:function(e){this.multipleSelection=e},formatter:function(e,t){return e.address},handleEdit:function(e,t){var n=this;this.$router.push(n.editUrl+t.id)},handleDelete:function(e,t){this.delete({id:t.id})},delAll:function(){if(0==this.multipleSelection.length)this.$message({type:"error",message:"未选择任何数据",duration:2e3});else{var e="";this.multipleSelection.forEach(function(t){e+=t.id+","}),e=e.substring(0,e.length-1),this.delete({id:e})}},delete:function(e){var t=this;return u()(s.a.mark(function n(){var a;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=t,n.next=3,a.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(u()(s.a.mark(function n(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.deleteData(a.deleteUrl,e);case 2:1===a.curPage?a.getData():a.curPage=1;case 3:case"end":return t.stop()}},n,t)}))).catch(function(){});case 3:case"end":return n.stop()}},n,t)}))()},getData:function(){var e=this;return u()(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,n.loading=!0,t.next=4,l.a.getList(n.listUrl,r()({page:n.curPage,pageSize:n.pageSize,order:n.orderTable.prop,sort:n.orderTable.order},n.searchObj()));case 4:a=t.sent.data,n.tableData=a.data,n.totalnum=a.total,n.curPage=a.current_page,n.loading=!1;case 9:case"end":return t.stop()}},t,e)}))()}}};t.a=c},576:function(e,t,n){t=e.exports=n(96)(!1),t.push([e.i,".demo-table-expand {\n    font-size: 0;\n}\n\n.demo-table-expand label {\n    width: 90px;\n    color: #99a9bf;\n}\n\n.demo-table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 50%;\n}\n\n.header {\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    height: 70px;\n    font-size: 22px;\n    line-height: 70px;\n    color: #fff;\n}\n\n.header .logo {\n    float: left;\n    width: 400px;\n    margin-left: 50px;\n    text-align: center;\n}\n\n.user-info {\n    float: right;\n    padding-right: 50px;\n    font-size: 16px;\n    color: #fff;\n}\n\n.user-info .el-dropdown-link {\n    position: relative;\n    display: inline-block;\n    padding-left: 50px;\n    color: #fff;\n    cursor: pointer;\n    vertical-align: middle;\n}\n\n.user-info .user-logo {\n    position: absolute;\n    left: 0;\n    top: 15px;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n}\n\n.el-dropdown-menu__item {\n    text-align: center;\n}\n\n.form-avatar {\n    width: 100%;\n    height: 100%;\n}\n\n.avatar-upload div {\n    width: 100px;\n    height: 100px;\n}\n\n.form-box{\n    width: 100%;\n}\n\n\n.base-form-group{\n    width: 600px;\n}\n\n\n.handle-box {\n    margin-bottom: 20px;\n}\n\n.handle-select {\n    width: 120px;\n}\n\n.handle-input {\n    margin-right: 15px;\n    width: 300px;\n    display: inline-block;\n}\n",""])},577:function(e,t,n){var a=n(576);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(215)("ddb42700",a,!0)},616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(577),r=(n.n(a),n(574)),i=n(573),s=n(218);t.default={mixins:[i.a,r.a],data:function(){return{businessType:s.a.getItem("business_type"),continentType:s.a.getItem("continent"),listUrl:"/depot",editUrl:"/depot/edit/",deleteUrl:"/depot",searchData:{continent:"",business:"",name:""}}},methods:{getBusinessName:function(e){return this.businessType[e].label}}}},655:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table"},[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-menu"}),e._v(" "+e._s(this.$route.meta.breadcrumb.parent)+"\n            ")]),e._v(" "),n("el-breadcrumb-item",[e._v(e._s(this.$route.meta.breadcrumb.child))])],1)],1),e._v(" "),n("div",{staticClass:"handle-box"},[e.showDelete()?n("el-button",{staticClass:"handle-del mr10",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.delAll}},[e._v("批量删除\n        ")]):e._e(),e._v(" "),n("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"大洲"},model:{value:e.searchData.continent,callback:function(t){e.$set(e.searchData,"continent",t)},expression:"searchData.continent"}},e._l(e.continentType,function(e,t){return n("el-option",{attrs:{label:e.name,value:e.id}})})),e._v(" "),n("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"业务类型"},model:{value:e.searchData.business,callback:function(t){e.$set(e.searchData,"business",t)},expression:"searchData.business"}},e._l(e.businessType,function(e,t){return n("el-option",{attrs:{label:e.label,value:e.key}})})),e._v(" "),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"输入仓库名"},model:{value:e.searchData.name,callback:function(t){e.$set(e.searchData,"name",t)},expression:"searchData.name"}}),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),n("el-button",{attrs:{type:"success",icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("清空刷新")])],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.data,border:"",stripe:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChange}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"ID"}},[n("span",[e._v(e._s(t.row.id))])]),e._v(" "),n("el-form-item",{attrs:{label:"地址"}},[n("span",[e._v(e._s(t.row.address))])])],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{type:"selection",width:"70"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"仓库名称",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"continent_name",label:"大洲",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{prop:"business",label:"业务类型",width:"270"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},e._l(t.row.business,function(t){return n("el-tag",{staticStyle:{"margin-left":"5px"},attrs:{size:"medium"}},[e._v(e._s(e.getBusinessName(t)))])}))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"square_meter",label:"面积(㎡)",width:"120"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.showUpdate()?n("el-button",{attrs:{size:"small"},on:{click:function(n){e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n                ")]):e._e(),e._v(" "),e.showDelete()?n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n                ")]):e._e()]}}])})],1),e._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":e.curPage,"page-sizes":[10,25,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalnum},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)},staticRenderFns:[]}}});